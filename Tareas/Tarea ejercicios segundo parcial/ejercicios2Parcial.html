<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="estilos.css" />
    <title>Ejercicios segundo parcial</title>
    <script src="ts.js"></script>
  </head>
  <body>
    <main>
      <div class="preguntas">
        <div class="cuadros-preguntas">
          <button onclick="pregunta1()"><h1>1</h1></button>
        </div>
        <div class="cuadros-preguntas">
          <button onclick="pregunta2()"><h1>2</h1></button>
        </div>
        <div class="cuadros-preguntas">
          <button onclick="pregunta3()"><h1>3</h1></button>
        </div>
        <div class="cuadros-preguntas">
          <button onclick="pregunta4()"><h1>4</h1></button>
        </div>
        <div class="cuadros-preguntas">
          <button onclick="pregunta5()"><h1>5</h1></button>
        </div>
      </div>

      <div id="Contenido"></div>
    </main>
    <footer id="mensaje"></footer>
    <script>
      function pregunta1() {
        var contenedor = document.getElementById("Contenido");
        var ajax = new XMLHttpRequest();
        ajax.open("GET", "tresenraya.html", true);
        ajax.onreadystatechange = function () {
          if (ajax.readyState == 4 && ajax.status == 200) {
            contenedor.innerHTML = ajax.responseText;
            iniciarJuego();
          }
        };
        ajax.setRequestHeader("Content-Type", "text/html; charset=utf-8");
        ajax.send();
      }

      function pregunta2() {
        var contenedor = document.getElementById("Contenido");
        var ajax = new XMLHttpRequest();
        ajax.open("GET", "tabla.html", true);
        ajax.onreadystatechange = function () {
          if (ajax.readyState == 4 && ajax.status == 200) {
            contenedor.innerHTML = ajax.responseText;
            iniciarTabla();
          }
        };
        ajax.setRequestHeader("Content-Type", "text/html; charset=utf-8");
        ajax.send();
      }

      function pregunta4() {
        var contenedor = document.getElementById("Contenido");
        var ajax = new XMLHttpRequest();
        ajax.open("GET", "listar.php", true);
        ajax.onreadystatechange = function () {
          if (ajax.readyState == 4 && ajax.status == 200) {
            contenedor.innerHTML = ajax.responseText;
            var libros = Array.from(document.getElementsByClassName("libro"));
            manejarRespuestaLibrosOrdenar(libros); // Llama a la nueva función aquí
          }
        };
        ajax.send();
      }

      function pregunta5() {
        var contenedor = document.getElementById("Contenido");
        contenedor.innerHTML =
          '<select id="selectLibros"></select><div id="imagenLibro"></div>';

        var ajax = new XMLHttpRequest();
        ajax.open("GET", "datos.php", true);
        ajax.onreadystatechange = function () {
          if (ajax.readyState == 4 && ajax.status == 200) {
            var libros = JSON.parse(ajax.responseText);
            manejarRespuestaLibros(libros); 
          }
        };
        ajax.setRequestHeader(
          "Content-Type",
          "application/json; charset=utf-8"
        );
        ajax.send();
      }
    </script>
  </body>
</html>
